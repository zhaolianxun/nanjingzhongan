<!DOCTYPE html>
<html>
<head> 
    <meta charset="utf-8"> 
    <title>菜鸟教程(runoob.com)</title> 
</head>
<body>
<p id="demo">点击按钮获取您当前坐标（可能需要比较长的时间获取）：</p>
<button onclick="agree_obtain_location()">点我</button>
<script>
    //判断浏览器是否支持地理位置接口
    function justify_location(){
        if(navigator.geolocation) {
            // 支持
            console.log("支持地理位置接口");
        } else {
            // 不支持
            console.log("不支持地理位置接口");
        }
    }
    //获取用户的地理位置。使用它需要得到用户的授权
    function agree_obtain_location(){
        var option = {
            enableHighAccuracy : true,
            timeout : Infinity,
            maximumAge : 0
        };

        navigator.geolocation.getCurrentPosition(geoSuccess,geoError,option);

    }
    //同意授权

    function geoSuccess(event) {
        console.log(event.coords.latitude + ', ' + event.coords.longitude);

    }

    //拒绝授权

    function geoError(event) {
        console.log("Error code " + event.code + ". " + event.message);
    }
</script>
</body>
</html>