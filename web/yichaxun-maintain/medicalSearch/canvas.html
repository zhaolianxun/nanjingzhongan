<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>红包雨</title>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"></script>
    <style>
        body{margin: 0;padding: 0;overflow: hidden;}
        .hide{display: none;}

    </style>
</head>
<body onload="draw()">
    <img id="bg" src="images/bg.jpg" class="hide"/>
    <img id="img1" src="images/img-4.png" class="hide"/>
    <img id="img2" src="images/img-4.1.png" class="hide"/>
    <img id="img3" src="images/img-4.2.png" class="hide"/>
    <img id="img4" src="images/img-4.3.png" class="hide"/>
    <img id="img5" src="images/img-4.4.png" class="hide"/>
    <canvas id="myCanvas">您的浏览器不支持 HTML5 canvas 标签。</canvas>

    <script>
        var dom = document.getElementById('myCanvas');
        var ctx = dom.getContext('2d');
        var h = $(window).get(0).innerHeight;
        var w = $(window).get(0).innerWidth;
        var speed = Math.random()*10;
        var times = 1;
        function reCanvasSize() {
            dom.setAttribute('width', w);
            dom.setAttribute('height', h);
            var bg = document.getElementById("bg");
            ctx.drawImage(bg,0,0,w,h);
        }
        function drawRedPacket(){
            times ++;
            var random = Math.random();
            var x = random * (w-172);
            var y = speed * times;
            //console.log(y);
            var img1 = document.getElementById("img1");
            var img2 = document.getElementById("img2");
            var img3 = document.getElementById("img3");
            var img4 = document.getElementById("img4");
            var img5 = document.getElementById("img5");
            ctx.drawImage(img1,0,y);
            ctx.drawImage(img2,100,y+90);
            ctx.drawImage(img3,200,y-100);
            ctx.drawImage(img4,300,y-140);
            ctx.drawImage(img5,400,y+40);
            ctx.drawImage(img1,500,y-600);
            ctx.drawImage(img2,600,y-800);
            ctx.drawImage(img3,700,y-450);
            ctx.drawImage(img4,800,y-280);
            ctx.drawImage(img5,514,y+40);
        }
        function draw(){
            reCanvasSize();
            drawRedPacket();
        }
        setInterval(draw,10)
    </script>
</body>
</html>