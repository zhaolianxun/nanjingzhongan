<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>

<div>13</div>
<div>13</div><div>13</div><div>13</div><div>13</div><div>13</div><div>13</div><div>13</div><div>13</div><div>13</div><div>13</div><div>13</div><div>13</div><div>13</div><div>13</div><div>13</div><div>13</div><div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div><div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div><div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div><div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div><div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div><div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div><div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>
<div>13</div>

</body>

<script>
windowScroll({down:function(){
    //向下到底
    var div = document.createElement("div");

    div.innerText=111
    document.body.appendChild(div)
}})
    //--------------上拉加载更多---------------
    //获取滚动条当前的位置
function windowScroll(params){
    function getScrollTop() {
        var scrollTop = 0;
        if(document.documentElement && document.documentElement.scrollTop) {
            scrollTop = document.documentElement.scrollTop;
        } else if(document.body) {
            scrollTop = document.body.scrollTop;
        }
        return scrollTop;
    }

    //获取当前可视范围的高度
    function getClientHeight() {
        var clientHeight = 0;
        if(document.body.clientHeight && document.documentElement.clientHeight) {
            clientHeight = Math.min(document.body.clientHeight, document.documentElement.clientHeight);
        } else {
            clientHeight = Math.max(document.body.clientHeight, document.documentElement.clientHeight);
        }
        return clientHeight;
    }

    //获取文档完整的高度
    function getScrollHeight() {
        return Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
    }

    //滚动事件触发
    window.onscroll = function() {
        if(getScrollTop() + getClientHeight() >= getScrollHeight()) {

            if(params.down)
                params.down();
        }else if(getScrollTop() == 0){
            //向上到顶
        }
    }
}
//var div = document.createElement("div");
//div.style.height='30px'
//div.innerText=getScrollTop()+' '+getClientHeight()+' '+getScrollHeight()
//document.body.appendChild(div)

    //-----------------结束--------------------
</script>
</html>